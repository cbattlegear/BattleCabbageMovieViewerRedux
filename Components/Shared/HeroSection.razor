@using BattleCabbageMovieViewer.Models

@if (Movie != null)
{
    <section class="relative min-h-[500px] md:min-h-[550px] lg:min-h-[600px] w-full overflow-hidden hero-section">
        <!-- Subtle gradient background -->
        <div class="absolute inset-0">
            <!-- Base gradient -->
            <div class="absolute inset-0 hero-gradient"></div>
            <!-- Decorative gradient orbs - subtle gold accent -->
            <div class="absolute -top-32 -right-32 w-[500px] h-[500px] rounded-full hero-orb blur-3xl"></div>
            <div class="absolute -bottom-48 -left-48 w-[600px] h-[600px] rounded-full hero-orb-secondary blur-3xl"></div>
        </div>

        <!-- Content container -->
        <div class="relative h-full max-w-7xl mx-auto px-4 md:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row items-center md:items-start gap-8 lg:gap-12 pt-24 md:pt-28 lg:pt-32 pb-12">

                <!-- Poster - The visual hero -->
                <div class="relative group">
                    <!-- Glow effect behind poster -->
                    <div class="absolute -inset-4 rounded-2xl blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 poster-glow"></div>
                    <div class="absolute -inset-2 rounded-2xl blur-xl poster-ambient"></div>

                    <!-- Poster card -->
                    <div class="relative w-56 sm:w-64 md:w-56 lg:w-72 xl:w-80 aspect-poster rounded-xl overflow-hidden shadow-2xl ring-1 ring-white/10 transform transition-transform duration-300 group-hover:scale-[1.02]">
                        @if (!string.IsNullOrEmpty(Movie.FullPosterUrl))
                        {
                            <img src="@Movie.FullPosterUrl"
                                 alt="@Movie.Title"
                                 class="w-full h-full object-cover" />
                        }
                        else
                        {
                            <div class="w-full h-full flex flex-col items-center justify-center bg-theme-tertiary">
                                <svg class="w-20 h-20 text-theme-tertiary mb-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                    <rect width="18" height="18" x="3" y="3" rx="2"/>
                                    <path d="M7 3v18"/>
                                    <path d="M3 7.5h4"/>
                                    <path d="M3 12h18"/>
                                    <path d="M3 16.5h4"/>
                                    <path d="M17 3v18"/>
                                    <path d="M17 7.5h4"/>
                                    <path d="M17 16.5h4"/>
                                </svg>
                                <span class="text-theme-tertiary text-sm">No Poster</span>
                            </div>
                        }
                    </div>
                </div>

                <!-- Movie Info -->
                <div class="flex-1 max-w-xl text-center md:text-left animate-fade-in">
                    <!-- Featured badge -->
                    <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full featured-badge text-sm font-medium mb-4">
                        <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                        </svg>
                        Featured
                    </div>

                    <!-- Title -->
                    <h1 class="text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold text-theme-primary tracking-tight mb-4 leading-tight">
                        @Movie.Title
                    </h1>

                    <!-- Tagline -->
                    @if (!string.IsNullOrEmpty(Movie.Tagline))
                    {
                        <p class="text-lg lg:text-xl text-theme-secondary italic mb-5">
                            "@Movie.Tagline"
                        </p>
                    }

                    <!-- Metadata row -->
                    <div class="flex flex-wrap items-center justify-center md:justify-start gap-4 mb-6">
                        @if (Movie.AverageScore.HasValue)
                        {
                            <div class="flex items-center gap-1.5 text-accent font-semibold text-lg">
                                <svg class="w-5 h-5 fill-current" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                                </svg>
                                @Movie.AverageScore.Value.ToString("F1")
                            </div>
                        }

                        @if (!string.IsNullOrEmpty(Movie.MpaaRating))
                        {
                            <span class="px-2.5 py-1 bg-theme-tertiary/50 rounded-md text-sm font-semibold text-theme-primary border border-theme-primary/20">
                                @Movie.MpaaRating
                            </span>
                        }

                        @if (Movie.ReleaseDate.HasValue)
                        {
                            <span class="text-theme-secondary font-medium">@Movie.ReleaseDate.Value.Year</span>
                        }

                        @if (!string.IsNullOrEmpty(Movie.Genre))
                        {
                            <span class="text-theme-tertiary">â€¢</span>
                            <span class="text-theme-secondary">@Movie.Genre</span>
                        }
                    </div>

                    <!-- Description -->
                    @if (!string.IsNullOrEmpty(Movie.Description))
                    {
                        <p class="text-theme-secondary leading-relaxed line-clamp-3 mb-8">
                            @Movie.Description
                        </p>
                    }

                    <!-- Action buttons -->
                    <div class="flex flex-wrap items-center justify-center md:justify-start gap-3">
                        <a href="/movies/@Movie.MovieId" class="btn-primary px-6 py-3 text-base inline-flex items-center">
                            <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M12 16v-4"/>
                                <path d="M12 8h.01"/>
                            </svg>
                            View Details
                        </a>
                        <button class="btn-ghost px-4 py-3" title="Add to watchlist">
                            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"/>
                                <line x1="12" x2="12" y1="7" y2="13"/>
                                <line x1="15" x2="9" y1="10" y2="10"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>
}

@code {
    [Parameter]
    public MovieResponse? Movie { get; set; }
}
